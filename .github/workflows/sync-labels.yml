name: ðŸ”„ Sync Labels to Satellites

on:
  workflow_dispatch:
  push:
    branches: [main]
    paths: ['.github/labels-config.json']

jobs:
  sync-labels:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Hub
        uses: actions/checkout@v4
        
      - name: Sync to yandex-test
        uses: actions/github-script@v7
        env:
          TARGET_REPO: "yandex-test"
        with:
          script: |
            const labels = require('./.github/labels-config.json').labels;
            console.log(`Syncing ${labels.length} labels to ${process.env.TARGET_REPO}`);

      # - name: Sync to ozon-test
      #   uses: actions/github-script@v7
      #   env:
      #     TARGET_REPO: "ozon-test"
      #   with:
      #     script: |
      #       const labels = require('./.github/labels-config.json').labels;
      #       console.log(`Syncing ${labels.length} labels to ${process.env.TARGET_REPO}`);

      # - name: Sync to wildberries-test
      #   uses: actions/github-script@v7
      #   env:
      #     TARGET_REPO: "wildberries-test"
      #   with:
      #     script: |
      #       const labels = require('./.github/labels-config.json').labels;
      #       console.log(`Syncing ${labels.length} labels to ${process.env.TARGET_REPO}`);
